# Formatter スクリプトテンプレート指示

> **読み込み条件**: type === "formatter" の場合
> **対応ランタイム**: Node.js, Bash

---

## 目的

コードフォーマット処理を行うスクリプトを生成する。

---

## AIへの実装指示

### 必須機能

1. **フォーマット実行**
   - 指定ファイル/ディレクトリの整形
   - 設定ファイルの読み込み
   - 複数言語対応

2. **チェックモード**
   - フォーマット差分の検出
   - CI用の終了コード

3. **差分出力**
   - 変更内容のプレビュー
   - diff形式での出力

4. **一括処理**
   - 再帰的なディレクトリ処理
   - 並列処理

### 推奨依存関係

| ランタイム | 推奨パッケージ |
|------------|----------------|
| Node.js | prettier, biome |
| Python | black, isort, ruff format |

### 環境変数

- `{{FORMAT_CONFIG}}`: 設定ファイルパス

### 引数仕様

| 引数 | 必須 | 説明 |
|------|------|------|
| --path | ○ | フォーマット対象パス |
| --check | × | チェックのみ（変更なし） |
| --write | × | ファイルを上書き |
| --config | × | 設定ファイル |
| --ignore | × | 無視パターン |

### 出力形式

- フォーマット結果のサマリーを出力

---

## コード構造の指示

AIは以下の構造でコードを生成してください:

```
1. インポート
   - フォーマッターライブラリ
   - ファイル操作

2. 設定
   - デフォルトスタイル
   - 終了コード定数

3. ユーティリティ関数
   - loadConfig(): 設定読み込み
   - formatFile(): ファイルフォーマット
   - checkFormat(): フォーマットチェック
   - showDiff(): 差分表示

4. メイン処理
   - 引数パース
   - 設定読み込み
   - フォーマット実行
   - 結果出力
```

---

## 品質基準

AIは以下の基準を満たすコードを生成してください:

- [ ] 設定ファイルの自動検出
- [ ] エンコーディングの保持
- [ ] 改行コードの適切な処理
- [ ] バックアップオプション
- [ ] 大量ファイルの効率的な処理
