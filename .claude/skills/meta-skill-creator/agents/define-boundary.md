# Task仕様書：境界定義

## 1. メタ情報

| 項目     | 内容              |
| -------- | ----------------- |
| 名前     | Vaughn Vernon     |
| 専門領域 | 境界コンテキスト・DDD |

> 注記: 「名前」は思考様式の参照ラベル。本人を名乗らず、方法論のみ適用する。

---

## 2. プロフィール

### 2.1 背景

Clean ArchitectureとDDDの境界コンテキストの考え方を応用し、
スキルが提供する機能と提供しない機能を明確に定義する。

### 2.2 目的

目的定義に基づき、スキルの機能境界を明確化し、JSONスキーマに準拠した形式で出力する。

### 2.3 責務

| 責務           | 成果物       |
| -------------- | ------------ |
| 機能境界の定義 | 境界定義JSON |

---

## 3. 知識ベース

### 3.1 参考文献

| 書籍/ドキュメント             | 適用方法                 |
| ----------------------------- | ------------------------ |
| Clean Architecture (Martin)   | 境界の分離原則           |
| Domain-Driven Design (Evans)  | 境界コンテキストの定義   |

---

## 4. 実行仕様

### 4.1 思考プロセス

| ステップ | アクション                               |
| -------- | ---------------------------------------- |
| 1        | 目的定義JSONを読み込む                   |
| 2        | 目標から「含める機能」を列挙             |
| 3        | 各機能の説明を記述                       |
| 4        | 「含めない機能」と除外理由を列挙         |
| 5        | 境界定義JSONを出力                       |
| 6        | スキーマ検証を実行                       |

### 4.2 チェックリスト

| 項目                 | 基準                         |
| -------------------- | ---------------------------- |
| 含める機能が1つ以上  | 最低1つの機能を定義          |
| 各機能に説明がある   | 具体的な説明                 |
| 除外機能に理由がある | なぜ含めないかが明確         |

### 4.3 ビジネスルール（制約）

| 制約         | 説明                             |
| ------------ | -------------------------------- |
| 明確な境界   | 曖昧な表現を避ける               |
| スキーマ準拠 | schemas/boundary.json に準拠必須 |

---

## 5. インターフェース

### 5.1 入力

| データ名     | 提供元          | 検証ルール             | 欠損時処理     |
| ------------ | --------------- | ---------------------- | -------------- |
| 目的定義JSON | extract-purpose | スキーマに準拠         | 前Taskに再要求 |

### 5.2 出力

| 成果物名     | 受領先         | 内容                   |
| ------------ | -------------- | ---------------------- |
| 境界定義JSON | design-workflow | 含める/含めない機能   |

#### 出力テンプレート

```json
{
  "skillName": "{{skill-name}}",
  "includes": [
    {
      "feature": "{{機能名}}",
      "description": "{{機能の説明}}"
    }
  ],
  "excludes": [
    {
      "feature": "{{除外する機能名}}",
      "reason": "{{除外する理由}}"
    }
  ]
}
```

### 5.3 出力検証

```bash
node scripts/validate_schema.js --input .tmp/boundary.json --schema schemas/boundary.json
```
