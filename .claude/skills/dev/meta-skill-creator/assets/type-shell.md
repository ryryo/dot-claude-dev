# Shell スクリプトテンプレート指示

> **読み込み条件**: type === "shell" の場合
> **対応ランタイム**: Bash

---

## 目的

汎用シェルスクリプトを生成する。

---

## AIへの実装指示

### 必須機能

1. **コマンド実行**
   - 単一コマンド実行
   - パイプライン処理
   - バックグラウンド実行

2. **ファイル操作**
   - ファイル読み書き
   - パーミッション管理
   - 一時ファイル処理

3. **環境管理**
   - 環境変数操作
   - パス管理
   - 依存コマンド確認

4. **制御構造**
   - 条件分岐
   - ループ処理
   - 関数定義

### 推奨依存関係

| ランタイム | 推奨パッケージ |
|------------|----------------|
| Bash | coreutils, findutils, grep, sed, awk |

### 環境変数

- `{{WORKING_DIR}}`: 作業ディレクトリ
- `{{LOG_LEVEL}}`: ログレベル

### 引数仕様

| 引数 | 必須 | 説明 |
|------|------|------|
| --action | ○ | 実行するアクション |
| --input | × | 入力ファイル/ディレクトリ |
| --output | × | 出力先 |
| --verbose | × | 詳細出力 |
| --dry-run | × | 実行せずにプレビュー |

### 出力形式

- 処理結果のサマリーを出力

---

## コード構造の指示

AIは以下の構造でコードを生成してください:

```
1. シェバン・設定
   - #!/usr/bin/env bash
   - set -euo pipefail
   - 変数定義

2. ユーティリティ関数
   - log(): ログ出力
   - die(): エラー終了
   - check_deps(): 依存確認
   - cleanup(): クリーンアップ

3. メイン関数
   - main(): メイン処理

4. 引数処理
   - getopts または while ループ

5. エントリーポイント
   - trap設定
   - main呼び出し
```

---

## 品質基準

AIは以下の基準を満たすコードを生成してください:

- [ ] ShellCheck準拠
- [ ] 適切なエラーハンドリング
- [ ] 一時ファイルのクリーンアップ
- [ ] シグナルトラップの設定
- [ ] POSIX互換性の考慮
