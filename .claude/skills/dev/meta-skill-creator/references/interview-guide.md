# Interview Guide

## 概要

ユーザーインタビューを効果的に行うためのガイド。
AskUserQuestionツールを活用し、段階的にヒアリングを行う。

## インタビューの原則

### 1. ユーザー中心

```
- ユーザーの言葉を使う（技術用語を避ける）
- ユーザーのペースに合わせる
- ユーザーの文脈を理解する
```

### 2. 段階的深掘り

```
抽象 → 具体 の順で質問:

L1: 「何を解決したいですか？」（課題）
L2: 「どのような機能が必要ですか？」（機能）
L3: 「どのように実装しますか？」（実装）
```

### 3. 確認と要約

```
各フェーズ終了時に確認:

「ここまでの理解をまとめます：
- 目的: xxx
- 機能: xxx
- 連携: xxx

これで合っていますか？」
```

## 質問設計パターン

### パターン1: 選択式 + 自由記述

```
AskUserQuestion:
  question: "どの機能が必要ですか？"
  header: "機能"
  multiSelect: true
  options:
    - label: "機能A"
      description: "説明A"
    - label: "機能B"
      description: "説明B"
    - label: "その他"
      description: "具体的に教えてください"
```

### パターン2: 二択式（Yes/No）

```
AskUserQuestion:
  question: "外部APIとの連携は必要ですか？"
  header: "API連携"
  options:
    - label: "はい"
      description: "外部サービスと連携する"
    - label: "いいえ"
      description: "ローカルで完結する"
```

### パターン3: 優先順位付け

```
AskUserQuestion:
  question: "最も重視する点を選んでください"
  header: "優先"
  options:
    - label: "実行速度"
      description: "処理を高速に"
    - label: "保守性"
      description: "変更しやすく"
    - label: "拡張性"
      description: "機能追加しやすく"
    - label: "シンプルさ"
      description: "複雑さを最小限に"
```

## フェーズ別質問ガイド

### Phase 0-1: 初期ヒアリング

**目的**: ユーザーの要求を理解し、抽象度レベルを判定

```
Q1: ゴール/課題の特定
  「どのようなスキルを作成したいですか？」
  「何を解決したいですか？」
  「どんな作業を自動化したいですか？」

Q2: コンテキストの特定
  「対象は何ですか？（開発、運用、データ等）」
  「どのような環境で使いますか？」

Q3: 規模・頻度の特定
  「どのくらいの頻度で使いますか？」
  「個人で使いますか？チームで使いますか？」
```

### Phase 0-2: 機能ヒアリング

**目的**: 必要な機能を特定

```
Q4: 主要機能
  「どのような機能が必要ですか？」
  「必須の機能は何ですか？」
  「あると嬉しい機能は何ですか？」

Q5: 外部連携
  「外部サービスとの連携は必要ですか？」
  「どのサービスと連携しますか？」
  「認証方式は何を使っていますか？」

Q6: スクリプト/自動化
  「どのような処理を自動化したいですか？」
  「既存のスクリプトはありますか？」
  「好みの言語/ツールはありますか？」
```

### Phase 0-3: 構成ヒアリング

**目的**: スキルの構成を決定

```
Q7: 構成タイプ
  「どのような構成を希望しますか？」
    - シンプル: 最小限の構成
    - 標準: バランスの取れた構成
    - フル: 全機能を含む構成
    - カスタム: 自由に設計

Q8: 優先事項
  「特に重視する点は何ですか？」
    - 実行速度
    - 保守性
    - 拡張性
    - シンプルさ
```

### Phase 0-4: 確認

**目的**: ヒアリング結果を確認

```
「以下の内容でスキルを作成します。よろしいですか？」

- スキル名: xxx
- 目的: xxx
- 主要機能: xxx
- 外部連携: xxx
- スクリプト: xxx
- 構成: xxx
- 優先事項: xxx

「問題なければ『OK』、修正が必要な場合は修正点を教えてください。」
```

## 深掘り質問テクニック

### 「なぜ」を聞く

```
ユーザー: 「PRを自動作成したい」
AI: 「なぜPRを自動作成したいですか？」
   → 「毎回同じ作業をするのが面倒」
   → 「コミット漏れを防ぎたい」
   → 「フォーマットを統一したい」
```

### 「具体的に」を聞く

```
ユーザー: 「開発効率を上げたい」
AI: 「具体的にどの作業に時間がかかっていますか？」
   → 「コードレビューの準備」
   → 「テストの実行」
   → 「ドキュメントの更新」
```

### 「現状」を聞く

```
ユーザー: 「自動化したい」
AI: 「現在はどのように作業を行っていますか？」
   → 手動で実行している手順
   → 既存のツール/スクリプト
   → 問題点・改善点
```

### 「理想」を聞く

```
ユーザー: 「改善したい」
AI: 「理想的にはどうなっていてほしいですか？」
   → ワンコマンドで完了
   → 自動で通知
   → エラー時に自動リトライ
```

## アンチパターン

### 避けるべき質問

| 避けるべき | 理由 | 代替 |
|------------|------|------|
| 「技術的な要件は？」 | 抽象的すぎる | 「何を自動化したいですか？」 |
| 「アーキテクチャは？」 | 専門用語 | 「どのような構成を希望しますか？」 |
| 「非機能要件は？」 | 専門用語 | 「速度や安定性は重視しますか？」 |

### 避けるべき行動

| 避けるべき | 理由 |
|------------|------|
| 一度に多くを聞く | ユーザーが疲弊する |
| 技術用語を多用する | ユーザーが混乱する |
| 確認なしで進める | 認識齟齬が発生する |
| 選択肢を固定する | 柔軟性が失われる |

## インタビュー結果の整理

### 出力フォーマット

```json
{
  "abstractionLevel": "L2",
  "goal": "PRを自動作成したい",
  "domain": "開発ワークフロー",
  "frequency": "daily",
  "scale": "team",
  "features": [
    { "name": "差分分析", "priority": "must" },
    { "name": "品質チェック", "priority": "should" }
  ],
  "integrations": [
    { "service": "GitHub", "purpose": "PR作成" }
  ],
  "scripts": [
    { "type": "git-ops", "runtime": "bash" }
  ],
  "structure": "standard",
  "priorities": ["speed", "maintainability"]
}
```

### 確認チェックリスト

- [ ] 目的が明確か
- [ ] 必須機能が特定できているか
- [ ] 外部連携が整理されているか
- [ ] スクリプト要件が明確か
- [ ] 構成が決まっているか
- [ ] 優先事項が明確か
- [ ] ユーザーが確認したか
