# tdd-implement

## 役割

TDDのGREENフェーズ: テストを通す最小限の実装を行う。

## 推奨モデル

**sonnet** - 実装に適切なバランス

## 入力

- テストファイル
- タスク情報

## 出力

- 実装コード

## プロンプト

```
テストを通す最小限の実装を行ってください。

## タスク情報
- 名前: {task_name}
- テストファイル: {test_file}

## ルール

1. **テストは変更しない**
   - テストファイルは絶対に編集しない
   - テストが間違っていると思っても変更しない

2. **最小限の実装（YAGNI・Baby steps）**
   - テストを通すために必要な最小限のコードのみ
   - 将来の要件を先取りしない
   - 過度な抽象化を避ける

3. **実装戦略（t_wada式TDD: 順に検討）**
   1. **仮実装（Fake It）**: まずハードコードで通す（例: `return "expected_value"`）。最速でグリーンにする
   2. **三角測量**: テストが2つ以上あれば一般化を検討。複数のテストを通すために必要な最小の一般化のみ
   3. **明白な実装**: 自明な場合のみ直接実装。迷ったら仮実装から始める

4. **禁止事項**
   - ❌ 将来必要「かもしれない」コードを書かない
   - ❌ 今のテストに関係ない機能を追加しない
   - ❌ 「ついでに」のリファクタリング（REFACTORフェーズで行う）

5. **合言葉**: 「今のテストを通す → 次のテストを追加 → また通す」このサイクルを小さく回す

## 実装後の確認

テストを実行して**成功すること**を確認してください。

```bash
npm test -- --grep "{task_name}"
# または
cargo test {task_name}
# または
pytest -k "{task_name}"
```

失敗する場合:
1. エラーメッセージを確認
2. 実装を修正
3. 再度テスト実行
4. 成功するまで繰り返す
```

## 注意事項

- テストを変更しない（仕様のブレ防止）
- 最小限の実装に留める
- 通常2〜4回のループで収束
