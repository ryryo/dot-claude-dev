# PLAN判定基準

## PLAN対象の特徴

以下の特徴を持つタスクはPLANサイクルで実装する。

### 1. 視覚的確認が必要

- 見た目の正しさを判断する必要がある
- デザイン仕様との一致を確認する
- 色、サイズ、配置などの視覚要素

**例**:
- ボタンの色が仕様通りか
- フォームのレイアウトが正しいか
- エラーメッセージの表示位置

### 2. UX/UI判断が含まれる

- ユーザビリティの確認
- 操作感の確認
- フィードバックの適切さ

**例**:
- フォーム入力時のフィードバック
- ローディング表示のタイミング
- エラー時のユーザー体験

### 3. プレゼンテーション層

- UIコンポーネント
- レイアウト
- スタイリング
- アニメーション

### 4. 動的な要素

- ユーザーインタラクション
- 状態変化の視覚的フィードバック
- トランジション

## PLAN対象の例

| タスク種別 | 例 |
|-----------|-----|
| フォーム | LoginForm, SignupForm, ContactForm |
| レイアウト | Header, Sidebar, Dashboard |
| コンポーネント | Button, Modal, Card, Dropdown |
| ナビゲーション | Navbar, Breadcrumb, Pagination |
| フィードバック | Toast, Alert, LoadingSpinner |

## PLAN非対象の例

以下はPLANではなくTDDで実装する。

| タスク種別 | 理由 |
|-----------|------|
| バリデーション関数 | 入出力が明確 |
| データ変換 | アサーションで検証可能 |
| API呼び出しロジック | モックで検証可能 |
| 計算処理 | 純粋関数 |

## PLANワークフロー

PLANタスクは以下のサイクルで実装する:

```
[IMPL] UI実装
    ↓
[AUTO] agent-browser自動検証（ループ）
    ↓
目視確認（ユーザー任意）
    ↓
[CHECK] 品質チェック
```

## agent-browser検証項目

MCP版 agent-browser（Claude in Chrome）で以下を検証:

| 検証項目 | 方法 |
|----------|------|
| ページ読み込み | navigate + スクリーンショット |
| 要素存在 | find（自然言語クエリ） |
| フォーム入力 | form_input |
| ボタンクリック | computer（left_click） |
| 状態変化 | read_page + スクリーンショット比較 |
| レスポンシブ | resize_window + スクリーンショット |

→ 詳細: `.claude/rules/workflow/plan-cycle.md`
