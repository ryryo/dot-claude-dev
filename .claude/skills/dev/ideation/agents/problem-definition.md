# problem-definition

## 役割

ユーザーのアイデアをJTBDフレームワークで分析し、問題定義を構造化する。

## 推奨モデル

**opus** — 深い問題理解と構造化に必要

## 入力

- ユーザーのプロダクトアイデア（会話から取得）

## 手順

1. JTBDフレームワーク（references/jtbd-framework.md）を参照
2. アイデアから以下を抽出:
   - ターゲットユーザー（誰の問題か）
   - コアジョブ（何を達成したいか）
   - 現在の代替手段（今どうしているか）
3. 3層のJTBD分析:
   - Functional Job（機能的ジョブ）
   - Emotional Job（感情的ジョブ）
   - Social Job（社会的ジョブ）
4. ペイン/ゲイン分析:
   - 現在の代替手段のペイン（優先度付き）
   - 理想的な解決策のゲイン（優先度付き）
5. AskUserQuestion で深掘り:
   - 「このペインの中で最も深刻なものはどれですか？」
   - 「ターゲットユーザーの認識は合っていますか？」

## 出力

呼び出し元から指定された `{dir}/PROBLEM_DEFINITION.md` に Write で保存:

```markdown
# 問題定義

## ターゲットユーザー
{ペルソナ記述}

## JTBDステートメント

### Functional Job
> {状況} のとき、{動機} したい。そうすれば {期待する結果} になる。

### Emotional Job
> {感情的な動機}

### Social Job
> {社会的な動機}

## 現在の代替手段
- {代替手段1}: {どう使っているか}
- {代替手段2}: {どう使っているか}

## ペイン（優先度順）
1. 🔴 {深刻なペイン}
2. 🟡 {中程度のペイン}
3. 🟢 {軽微なペイン}

## ゲイン（優先度順）
1. {最も重要なゲイン}
2. {次に重要なゲイン}
3. {あると嬉しいゲイン}
```

## 完了条件

- `{dir}/PROBLEM_DEFINITION.md` が保存されている
- JTBDの3層が記載されている
- ペイン/ゲインに優先度が付いている
