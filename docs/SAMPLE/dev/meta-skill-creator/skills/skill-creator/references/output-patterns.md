# 出力パターン（§5）

> 18-skills.md §5 の要約
> **相対パス**: `references/output-patterns.md`
> **原典**: `docs/00-requirements/18-skills.md` §5

---

## 5.1 テンプレートパターン

出力形式のテンプレートを提供。**厳格さのレベル**を要件に合わせる。

### 厳格な要件の場合（APIレスポンスやデータ形式）

```markdown
## {{出力タイプ}}構造

必ず以下の正確なテンプレート構造を使用する：

# {{タイトル変数}}

## {{セクション1名}}

{{セクション1の内容説明}}

## {{セクション2名}}

- {{項目1}}（{{補足情報}}）
- {{項目N}}（{{補足情報}}）

## {{セクション3名}}

1. {{アクション項目1}}
2. {{アクション項目N}}
```

**適用場面**:

| 場面             | 説明                     |
| ---------------- | ------------------------ |
| API レスポンス   | 形式が厳密に決まっている |
| 設定ファイル生成 | パーサーが期待する形式   |
| 構造化データ出力 | スキーマに準拠する必要   |
| フォーム入力     | バリデーションがある     |

### 柔軟なガイダンスの場合（適応が有用な場合）

```markdown
## {{出力タイプ}}構造

以下は妥当なデフォルト形式。最善の判断で使用する：

# {{タイトル変数}}

## {{セクション1名}}

## {{セクション2名}}

{{コンテキストに応じた適応指示}}

## {{セクション3名}}

{{調整の指針}}

{{全体的な適応ガイドライン}}
```

**適用場面**:

| 場面                   | 説明                   |
| ---------------------- | ---------------------- |
| ドキュメント生成       | コンテキストにより変動 |
| コードコメント         | 対象コードにより調整   |
| ユーザー向けメッセージ | 状況に応じた表現       |
| 創造的なコンテンツ     | 柔軟性が価値を生む     |

---

## 5.2 例示パターン

出力品質が例を見ることに依存する場合、入力/出力のペアを提供。

### 基本形式

```markdown
## {{出力形式名}}

以下のパターンに従って{{出力物}}を生成する：

**パターン:**
入力: {{入力の説明}}
出力:
{{出力フォーマット}}

**形式ルール:**

- {{ルール1}}
- {{ルール2}}
- {{ルールN}}
```

**注意事項**:

| 観点         | 説明                                             |
| ------------ | ------------------------------------------------ |
| 例示の影響   | 具体的な例示は AI の出力を例に引っ張る傾向がある |
| パターン優先 | パターンと形式ルールで表現することを優先         |
| 例は最小限   | 例は最小限に、パターンの説明として使用           |

---

## 自由度レベルと出力パターンの対応

| 自由度 | 出力パターン       | 記述例                           |
| ------ | ------------------ | -------------------------------- |
| 低     | 厳格なテンプレート | 「必ず以下の構造を使用」         |
| 中     | パターン + ルール  | 「以下のパターンに従う」         |
| 高     | 柔軟なガイダンス   | 「妥当なデフォルト、判断で調整」 |

---

## 出力パターン設計のベストプラクティス

### すべきこと

| プラクティス             | 説明                                        |
| ------------------------ | ------------------------------------------- |
| 目的に合った厳格さを選択 | APIフォーマット → 厳格、ドキュメント → 柔軟 |
| 変数を明示               | `{{variable}}` 形式で置換箇所を示す         |
| ルールを簡潔に           | 箇条書きで形式ルールを列挙                  |
| 例は最小限に             | パターンの理解に必要な分だけ                |

### 避けるべきこと

| アンチパターン       | 説明                                 |
| -------------------- | ------------------------------------ |
| 過度な例示           | 例が多すぎると出力が例に引っ張られる |
| 曖昧なテンプレート   | 厳格と柔軟の混在                     |
| ハードコードされた値 | 変数化すべき箇所をリテラルで記述     |

---

## assets/ との連携

複雑なテンプレートは assets/ に配置：

```
assets/
├── skill-template.md         # SKILL.md テンプレート
├── agent-task-template.md    # agents/*.md テンプレート
└── output-format.json        # JSON出力フォーマット
```

SKILL.md での参照：

```markdown
### 出力テンプレート

`assets/skill-template.md` を参照して SKILL.md を生成する。
```

---

## 関連リソース

- **ワークフロー**: See [workflow-patterns.md](workflow-patterns.md) - §4
- **作成プロセス**: See [creation-update-process.md](creation-update-process.md) - §6
