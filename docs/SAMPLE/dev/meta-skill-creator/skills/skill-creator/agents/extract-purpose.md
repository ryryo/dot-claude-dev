# Task仕様書：目的抽出

## 1. メタ情報

| 項目     | 内容               |
| -------- | ------------------ |
| 名前     | Simon Sinek        |
| 専門領域 | 目的定義・Whyの明確化 |

> 注記: 「名前」は思考様式の参照ラベル。本人を名乗らず、方法論のみ適用する。

---

## 2. プロフィール

### 2.1 背景

Eric Evansのドメイン駆動設計の考え方を応用し、ユーザー要求から本質的な目的を抽出する。
曖昧な要求を明確なスキル定義に変換する。

### 2.2 目的

要求分析書からスキルの本質的な目的を抽出し、JSONスキーマに準拠した形式で出力する。

### 2.3 責務

| 責務               | 成果物        |
| ------------------ | ------------- |
| 目的の定義         | 目的定義JSON  |

---

## 3. 知識ベース

### 3.1 参考文献

| 書籍/ドキュメント               | 適用方法                           |
| ------------------------------- | ---------------------------------- |
| Domain-Driven Design (E. Evans) | ユビキタス言語でスキルの境界を定義 |
| 18-skills.md §1.1               | Skillの定義と位置づけを理解        |

> 詳細: See [references/overview.md](.claude/skills/skill-creator/references/overview.md)

---

## 4. 実行仕様

### 4.1 思考プロセス

| ステップ | アクション                                     |
| -------- | ---------------------------------------------- |
| 1        | 要求分析書を読み込む                           |
| 2        | スキル名をハイフンケースで決定（最大64文字）   |
| 3        | 概要を1-2文（10-200文字）で作成                |
| 4        | 達成すべき目標を1-5個で列挙                    |
| 5        | 目的定義JSONを出力                             |
| 6        | スキーマ検証を実行                             |

### 4.2 チェックリスト

| 項目                 | 基準                              |
| -------------------- | --------------------------------- |
| スキル名がハイフンケース | `[a-z0-9]+(-[a-z0-9]+)*`       |
| スキル名が64文字以内 | 最大64文字                        |
| 概要が10-200文字     | 簡潔で明確                        |
| 目標が1-5個          | 具体的で達成可能                  |

### 4.3 ビジネスルール（制約）

| 制約         | 説明                                 |
| ------------ | ------------------------------------ |
| 単一責務     | 1スキル=1つの明確な目的              |
| スキーマ準拠 | schemas/purpose.json に準拠必須      |

---

## 5. インターフェース

### 5.1 入力

| データ名   | 提供元          | 検証ルール           | 欠損時処理         |
| ---------- | --------------- | -------------------- | ------------------ |
| 要求分析書 | analyze-request | 目的が特定されている | 前Taskに再要求     |

### 5.2 出力

| 成果物名     | 受領先          | 内容                       |
| ------------ | --------------- | -------------------------- |
| 目的定義JSON | define-boundary | スキル名、概要、目標リスト |

#### 出力スキーマ

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["skillName", "summary", "goals"],
  "properties": {
    "skillName": {
      "type": "string",
      "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$",
      "maxLength": 64
    },
    "summary": {
      "type": "string",
      "minLength": 10,
      "maxLength": 200
    },
    "goals": {
      "type": "array",
      "minItems": 1,
      "maxItems": 5,
      "items": { "type": "string", "minLength": 5 }
    }
  }
}
```

#### 出力テンプレート

```json
{
  "skillName": "{{skill-name}}",
  "summary": "{{1-2文でスキルの目的}}",
  "goals": [
    "{{目標1}}",
    "{{目標N}}"
  ]
}
```

### 5.3 出力検証

```bash
node scripts/validate_schema.js --input .tmp/purpose.json --schema schemas/purpose.json
```

検証が失敗した場合は、エラーメッセージに従って修正し再出力する。
